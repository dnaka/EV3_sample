# EV3_sample

LEGO MINDSTORM EV3を使用したプログラム演習課題

## 課題

### STEP1

#### 課題

* モーターの制御をする関数を書くこと
* pythonの簡単なコードが書けること
  * 関数、引数、デバッグ実行あたりを理解していること
* 実際にEV3にプログラムを転送して走らせることができること

#### 課題の詳細

* 以下の条件を満たす関数run()を作成する
  * 速度を引数とすること
  * 前進、後退ができること
  * 右カーブ、左カーブができること
* 作成したrun()を使って、以下の挙動をするプログラムを作成する。
  1. 10cm直進する
  1. 右カーブする
  1. 左カーブする（つまり、左右のカーブを行う事で蛇行する）
  1. 2~3を3回繰り返す（つまり3回蛇行したら)5cm直進して停止する　
* testMotor.pyを参考にしてよい
* ファイル名はmotor.pyとする

#### 注意事項

* わかりやすいように段階的な課題としているだけなので、作成したrun()が、プログラム的に不便だと思ったら、run()自体を作り直してもよい
* 関数run()を作成しなさいとあるが、可能であればオブジェクト指向でクラスを用いるなどしてもよい

-----

### STEP2

#### 課題

* 色センサーを使って、コース上の色を判定するプログラムを作成する

#### 課題の詳細

* 色センサーを使って、コース上の色を判定する関数getColor()を作成する
  * 白、黒、緑、赤、青、黄色、グレーを識別できること
  * 戻り値としてColorクラスの定数(赤ならColor.RED)を返すこと
  * 参考： https://docs.pybricks.com/en/stable/parameters/color.html
    * フローチャートを作成すること
* 作成したgetColor()を使って、コース上の色を判定するプログラムを作成する。
  * プログラムを実行し、コース上にEV3の機体を置くと、ディスプレイに上記の色が表示されること
  * ファイル名はcolor.pyとする
  * 色センサーの使い方やディスプレイの表示は、testColor.pyを参考にしてよい

#### 注意事項

* Color.GRAYだけドキュメントの説明と異なりエラーになるので、適当な色で代用して良い
* わかりやすいように段階的な課題としているだけなので、作成したgetColor()が、プログラム的に不便だと思ったら、getColor()自体を作り直してもよい
* 関数getColorを作成しなさいとあるが、可能であればオブジェクト指向でクラスを用いるなどしてもよい

-----

### STEP3

#### 課題

* ライントレースするロボットを作成する

#### 課題の詳細

* run(), getColor()を利用し、ライントレースロボットを作成する
* ファイル名はmain.pyとする
  * 上記の関数は、motor.py, color.pyからコピペしてよい
* ライントレースロボットは以下の機能を備えていること
  * 黒、グレー、緑、青、赤の線をトレースしながらコースをスタートからゴールまで走り切れること
* ゴール地点で黄色のラインを検出したら、その位置から一番奥の車庫スペースに入るように制御すること
* どういった処理を行うのかフローチャートを作成すること

----

以下はSTEP3までクリアして時間があるようなら実施

### STEP4

#### 課題

* STEP3のロボットに以下の機能を追加する
  * スタート時に、機体の10cm前に障害物を設置するので、それが取り除かれたらスタートすること

#### 課題の詳細

* 超音波センサーを使って、指定した距離に障害物があるかないかを判定する関数、isDetectObject()を作成する
  * 引数に物体との距離を指定すること
  * 戻り値はTrue/Falseで返すこと。また、近すぎても離れすぎてもFalseを返すこと
  * 超音波センサーの使い方やディスプレイの表示は、testSonic.pyを参考にしてよい
  * 作成したisDetectObject()関数をmain.pyに組み込んで、障害物が取り除かれたらスタートするようにmain.pyを修正すること

----

### STEP5

#### 課題

* STEP4のロボットに以下の機能を追加する
  * コースの最終カーブ地点で障害物を配置する。
  * 最終カーブ地点（ラインが緑から黒に切り替わる地点）で障害物を検出したら、障害物の距離に応じて、車庫入れする地点を決定する
  * 障害物への距離が一番近い場合、青色のラインまで進んで車庫入れする
  * 障害物への距離が中距離の場合、黄色のラインまで進んで車庫入れする
  * 障害物への距離が一番遠い場合、赤色のラインまで進んで車庫入れする
    * step4のmain.pyを変更して作成すること

### 注意

色判定は数値が適当なので、環境に合わせて修正すること

----

### 参考資料

* pybricsのAPI Reference
  * https://docs.pybricks.com/en/stable/index.html
* pythonチュートリアル
  * https://docs.python.org/ja/3/tutorial/index.html
* pyhton 標準ライブラリ
  * https://docs.python.org/ja/3/library/index.html
* python言語リファレンス
  * https://docs.python.org/ja/3/reference/index.html
* 簡単にみるなら
  * https://qiita.com/Fendo181/items/a934e4f94021115efb2e
